@startuml
title 참여 상태 조회 활동 다이어그램

|#LightBlue|내 참여 현황 조회|
start

:참여 현황 조회 요청;

:사용자 인증 확인;

if (인증된 사용자?) then (아니오)
  :401 Unauthorized 응답;
  stop
endif

fork
  :참여 중인 스터디 목록 조회;
  note right: ACTIVE 상태인 멤버십
fork again
  :대기 중인 신청 목록 조회;
  note right: PENDING 상태인 신청
fork again
  :리더로 있는 스터디 목록 조회;
fork again
  :최근 탈퇴한 스터디 이력 조회;
end fork

:참여 통계 계산;
note right: 총 참여 수, 리더 경험, 완료 스터디 수

:200 참여 현황 응답;

|#LightGreen|특정 스터디 참여 상태|
:특정 스터디 참여 상태 요청;
note right: 스터디 ID

:스터디 존재 확인;

if (스터디 존재?) then (아니오)
  :404 Study Not Found 응답;
  stop
endif

:사용자와 스터디 관계 조회;

:참여 상태 결정;
note right: 비멤버, 신청중, 멤버, 리더

:가능한 액션 계산;
note right: 신청, 탈퇴, 관리 버튼 표시 여부

:200 참여 상태 응답;

|#LightYellow|신청 내역 상세 조회|
:신청 내역 상세 조회 요청;

:신청 이력 조회;

:신청 상태별 필터링;

:200 신청 내역 응답;

stop

@enduml
